webpackJsonp([1],{"+OsI":function(t,e,s){t.exports=s.p+"ReportGenerator/static/img/ACTIVIDADESIMER_min.f1ebde2.jpg"},"1Yjz":function(t,e){},"8Q7e":function(t,e){},NHnr:function(t,e,s){"use strict";function i(t){s("Z9TW")}function a(t){s("Q5sZ")}function n(t){s("o6b0")}function o(t,e){var s={};if("letter"===t){s.w=220,s.h=220*e.height/e.width}return s}function r(t){s("t3ux")}function c(t){s("1Yjz")}function u(t){s("8Q7e")}function l(t){s("zUEt")}function p(t){return t<=9?"0"+t:t}function d(t){s("UgGR")}Object.defineProperty(e,"__esModule",{value:!0});var m=s("7+uW"),v=s("Dd8w"),h=s.n(v),C=s("NYxO"),g={name:"navbar",computed:h()({},Object(C.b)(["user"])),data:function(){return{showMenu:!1}},methods:{toggleMenu:function(){this.showMenu=!this.showMenu}}},f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navbar is-black"},[s("div",{staticClass:"navbar-brand"},[s("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[t._v("∫ Inicio")]),s("div",{staticClass:"navbar-burger burger",class:{"is-active":t.showMenu},attrs:{"data-target":"mainMenu"},on:{click:function(e){t.toggleMenu()}}},[s("span"),s("span"),s("span")])],1),s("div",{staticClass:"navbar-menu",class:{"is-active":t.showMenu},attrs:{id:"mainMenu"}},[s("div",{staticClass:"navbar-end"},[s("router-link",{staticClass:"navbar-item",attrs:{to:"/asistencia"}},[t._v("Asistencia")]),s("router-link",{staticClass:"navbar-item",attrs:{to:"/actividades"}},[t._v("Actividades")])],1)])])},D=[],y={render:f,staticRenderFns:D},x=y,b=s("VU/8"),_=i,w=b(g,x,!1,_,null,null),I=w.exports,O={name:"app",components:{navbar:I}},N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("navbar"),s("router-view")],1)},E=[],P={render:N,staticRenderFns:E},R=P,S=s("VU/8"),A=a,M=S(O,R,!1,A,null,null),F=M.exports,Y=s("/ocq"),H={name:"Home",computed:h()({},Object(C.b)(["user","institution"])),methods:{updateInfo:function(){this.$store.commit("setUserData",this.user)}}},U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0,!1,!1),s("div",{staticClass:"section"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Nombre completo")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Everardo Sánchez Hernández"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Registro")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.register,expression:"user.register"}],staticClass:"input",attrs:{type:"text",placeholder:"973198798"},domProps:{value:t.user.register},on:{input:function(e){e.target.composing||t.$set(t.user,"register",e.target.value)}}})])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-9"},[s("div",{staticClass:"label"},[t._v("Institución Educativa")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.school,expression:"user.school"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.school},on:{input:function(e){e.target.composing||t.$set(t.user,"school",e.target.value)}}})]),s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Boleta")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.schoolId,expression:"user.schoolId"}],staticClass:"input",attrs:{type:"text",placeholder:"2088350634"},domProps:{value:t.user.schoolId},on:{input:function(e){e.target.composing||t.$set(t.user,"schoolId",e.target.value)}}})])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Carrera")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.carreer,expression:"user.carreer"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.carreer},on:{input:function(e){e.target.composing||t.$set(t.user,"carreer",e.target.value)}}})]),s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Teléfono")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.telephone,expression:"user.telephone"}],staticClass:"input",attrs:{type:"text",placeholder:"40128869"},domProps:{value:t.user.telephone},on:{input:function(e){e.target.composing||t.$set(t.user,"telephone",e.target.value)}}})]),s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Nombre de la institución")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.institution.name,expression:"institution.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.institution.name},on:{input:function(e){e.target.composing||t.$set(t.institution,"name",e.target.value)}}})])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Area de adscripción")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.area,expression:"user.area"}],staticClass:"input",attrs:{type:"text",placeholder:"Area"},domProps:{value:t.user.area},on:{input:function(e){e.target.composing||t.$set(t.user,"area",e.target.value)}}})]),s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Nombre del proyecto")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.institution.program,expression:"institution.program"}],staticClass:"input",attrs:{type:"text",placeholder:"Area"},domProps:{value:t.institution.program},on:{input:function(e){e.target.composing||t.$set(t.institution,"program",e.target.value)}}})])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Fecha de Inicio")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.dateStart,expression:"user.dateStart"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.dateStart},on:{input:function(e){e.target.composing||t.$set(t.user,"dateStart",e.target.value)}}})]),s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Fecha de Término")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.dateEnd,expression:"user.dateEnd"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.dateEnd},on:{input:function(e){e.target.composing||t.$set(t.user,"dateEnd",e.target.value)}}})]),s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Hora de entrada")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.initHour,expression:"user.initHour"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.initHour},on:{input:function(e){e.target.composing||t.$set(t.user,"initHour",e.target.value)}}})]),s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Hora de Salida")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.finishHour,expression:"user.finishHour"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.finishHour},on:{input:function(e){e.target.composing||t.$set(t.user,"finishHour",e.target.value)}}})])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Responsable del área")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.institution.internBoss.name,expression:"institution.internBoss.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.institution.internBoss.name},on:{input:function(e){e.target.composing||t.$set(t.institution.internBoss,"name",e.target.value)}}})]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"label"},[t._v("Puesto")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.institution.internBoss.position,expression:"institution.internBoss.position"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.institution.internBoss.position},on:{input:function(e){e.target.composing||t.$set(t.institution.internBoss,"position",e.target.value)}}})])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("div",{staticClass:"label"},[t._v("Responsable del área")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.institution.boss.name,expression:"institution.boss.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.institution.boss.name},on:{input:function(e){e.target.composing||t.$set(t.institution.boss,"name",e.target.value)}}})]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"label"},[t._v("Puesto")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.institution.boss.position,expression:"institution.boss.position"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.institution.boss.position},on:{input:function(e){e.target.composing||t.$set(t.institution.boss,"position",e.target.value)}}})])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("button",{staticClass:"button is-info",on:{click:function(e){t.updateInfo()}}},[t._v("Guardar")])])])])])},$=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hero is-info"},[s("div",{staticClass:"hero-body"},[s("h1",{staticClass:"title"},[t._v("Datos generales")]),s("h2",{staticClass:"subtitle"},[s("p",[t._v("Ingresa los datos que serán usados para los reportes."),s("br"),t._v("Recuerda usar el botón de guardar para que la información perdure en el navegador.")])])])])}],k={render:U,staticRenderFns:$},z=k,X=s("VU/8"),L=n,V=X(H,z,!1,L,null,null),j=V.exports,B=s("fZjL"),T=s.n(B),q=s("Zrlr"),Z=s.n(q),J=s("wxAW"),G=s.n(J),Q=s("l9mu"),W=s.n(Q),K=function(){function t(e,s){Z()(this,t),this.type=s,this.docName=e,this.DOC=new W.a({orientation:"p",unit:"mm",format:"letter"}),this.cursorX=0,this.cursorY=0,this.canvas=document.createElement("CANVAS")}return G()(t,[{key:"writeMonth",value:function(t){this.DOC.setFontSize(10),"IMER"===this.type?this.DOC.text(t.toUpperCase(),160,54):"IPN"===this.type&&this.DOC.text(t.toUpperCase(),170,60)}},{key:"writeHeadData",value:function(t){this.DOC.setFontSize(10),"IMER"===this.type?(this.DOC.text(t.name.toUpperCase(),45,32),this.DOC.text(t.register,165,32),this.DOC.text(t.area.toUpperCase(),65,37.5),this.DOC.text(t.dateStart,58,43),this.DOC.text(t.dateEnd,163,43),this.DOC.text(t.school.toUpperCase(),63,48.5),this.DOC.text(t.initHour,50,54),this.DOC.text(t.finishHour,90,54)):"IPN"===this.type&&this.DOC.text(t.name.toUpperCase(),70,60)}},{key:"writeActivityHead",value:function(t){this.DOC.setFontSize(10),"IMER"===this.type?(this.DOC.text(t.user.name.toUpperCase(),50,53),this.DOC.text(t.user.area.toUpperCase(),55,60),this.DOC.text(t.institution.program.toUpperCase(),113,68),this.DOC.text(t.institution.boss.name.toUpperCase(),82,76),this.DOC.text(t.report.monthName.toUpperCase(),105,98),this.DOC.text(t.report.year.toUpperCase(),150,98)):"IPN"===this.type&&(this.DOC.text(t.report.number.toString(),180,57),this.DOC.text(t.user.carreer.toUpperCase(),45,76),this.DOC.text(t.report.startDate,130,76),this.DOC.text(t.report.month,138,76),this.DOC.text(t.report.year,146,76),this.DOC.text(t.report.endDate,167,76),this.DOC.text(t.report.month,175,76),this.DOC.text(t.report.year,183,76),this.DOC.text(t.user.telephone.toUpperCase(),73,88.6),this.DOC.text(t.user.name.toUpperCase(),68,101),this.DOC.text(t.user.schoolId.toUpperCase(),168,101),this.DOC.text(t.user.email.toUpperCase(),100,113),this.DOC.text(t.institution.name.toUpperCase(),125,125.5),this.DOC.setFontSize(7),this.DOC.text(t.institution.boss.name.toUpperCase(),48,150),this.DOC.text(t.institution.boss.position.toUpperCase(),138,150),this.DOC.text(t.institution.boss.name.toUpperCase(),33,274),this.DOC.text(t.institution.boss.position.toUpperCase(),22,278),this.DOC.setFontSize(10),this.DOC.text(t.report.deliverDate.day,140,230.2),this.DOC.text(t.report.deliverDate.month,154,230.2),this.DOC.text(t.report.deliverDate.year,185,230.2))}},{key:"writeActivitiesList",value:function(t){var e=this;this.DOC.setFontSize(10);var s=0,i=0,a=0,n=0;"IMER"===this.type?(s=16,i=105.5,a=18):"IPN"===this.type&&(s=5,i=181,a=34),T()(t).forEach(function(o){if((n+=1)<=s){var r=t[o];e.DOC.text(r.name,a,i),"IMER"===e.type?i+=7:"IPN"===e.type&&(i+=6)}})}},{key:"getImageUrl",value:function(t){var e=this.canvas.getContext("2d");return this.canvas.width=t.width,this.canvas.height=t.height,e.drawImage(t,0,0),this.canvas.toDataURL()}},{key:"writeBackground",value:function(t){var e=this.getImageUrl(t),s=o("letter",t);this.DOC.addImage(e,"JPG",this.cursorX,this.cursorY,s.w,s.h)}},{key:"writeRow",value:function(t){this.DOC.setFontSize(10),"IMER"===this.type?(this.cursorY<75&&(this.cursorY=75),this.cursorX=21,this.DOC.text(t.date,this.cursorX,this.cursorY),this.cursorX+=32,this.DOC.text(t.initHour,this.cursorX,this.cursorY),this.cursorX+=29,this.DOC.text(t.finishHour,this.cursorX,this.cursorY),this.cursorX+=36,this.DOC.text(t.daysHour,this.cursorX,this.cursorY),this.cursorX+=34,this.DOC.text(t.currentHours,this.cursorX,this.cursorY),this.cursorY+=7.1):"IPN"===this.type&&(this.cursorY<85&&(this.cursorY=85),this.cursorX=44,this.DOC.text(t.date,this.cursorX,this.cursorY),this.cursorX+=32.5,this.DOC.text(t.initHour,this.cursorX,this.cursorY),this.cursorX+=33.5,this.DOC.text(t.finishHour,this.cursorX,this.cursorY),this.cursorX+=34,this.DOC.text(t.daysHour,this.cursorX,this.cursorY),this.cursorY+=6.15)}},{key:"writeEndIPN",value:function(e,s,i){this.DOC.setFontSize(10),this.DOC.text(t.parsetoString(e),143,227.3),this.DOC.text(t.parsetoString(s),143,233.45),this.DOC.setFontSize(9),this.DOC.text(i.name.toUpperCase(),28,270.5),this.DOC.setFontSize(8),this.DOC.text(i.position.toUpperCase(),22,276)}},{key:"drawGrid",value:function(){this.DOC.line(10.5,this.cursorY+2,10.5,this.cursorY-6),this.DOC.line(37.5,this.cursorY+2,37.5,this.cursorY-6),this.DOC.line(68,this.cursorY+2,68,this.cursorY-6),this.DOC.line(98.5,this.cursorY+2,98.5,this.cursorY-6),this.DOC.line(138,this.cursorY+2,138,this.cursorY-6),this.DOC.line(173,this.cursorY+2,173,this.cursorY-6),this.DOC.line(210,this.cursorY+2,210,this.cursorY-6),this.DOC.line(10.5,this.cursorY+2,210,this.cursorY+2)}},{key:"show",value:function(){this.DOC.save("Reporte "+this.docName+".pdf")}}],[{key:"parsetoString",value:function(t){var e="";return"number"==typeof t&&(e=t.toString()),e}}]),t}(),tt=K,et=s("8oIH"),st=s.n(et),it={name:"coin-hive-captcha",props:["onFinish"],computed:h()({},Object(C.b)(["captcha"])),created:function(){var t=this,e=document.createElement("script");e.setAttribute("src","https://authedmine.com/lib/captcha.min.js"),window.document.head.appendChild(e),window.finish=function(){t.onFinish()}}},at=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0,!1,!1)},nt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{action:"?",method:"post"}},[s("div",{staticClass:"coinhive-captcha",attrs:{"data-hashes":"512","data-key":"6cNg5YJlj3Z4eLJOheDgWK8yaNdyDEwA","data-callback":"finish"}},[s("em",[t._v("Loading captcha ..."),s("br"),t._v("If it doesn't load, please DISABLE Adblock!")]),s("input",{attrs:{type:"submit",value:"Submit"}})])])}],ot={render:at,staticRenderFns:nt},rt=ot,ct=s("VU/8"),ut=r,lt=ct(it,rt,!1,ut,null,null),pt=lt.exports,dt={name:"popup",props:["onFinish"],computed:h()({},Object(C.b)(["captcha"])),methods:{closeModal:function(){this.$store.commit("setCaptchaHashed",!0),this.$store.commit("setCaptchaShow",!1),this.onFinish()}},beforeUpdate:function(){this.captcha.hashed&&this.$store.commit("setCaptchaHashed",!1)},components:{coinhiveCaptcha:pt}},mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal",class:{"is-active":t.captcha.show}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-content"},[t._m(0,!1,!1),s("div",{staticClass:"content"},[s("p",[t._v("Porfavor haz click en el captcha, eso nos ayuda a seguir con el proyecto.")]),s("p",[t._v("Al terminar, se descargará tu reporte listo para imprimir.")]),t.captcha.hashed?t._e():s("div",[s("coinhiveCaptcha",{attrs:{onFinish:t.closeModal}})],1)])])])},vt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"head"},[s("h2",[t._v("Solo un paso más!")])])}],ht={render:mt,staticRenderFns:vt},Ct=ht,gt=s("VU/8"),ft=c,Dt=gt(dt,Ct,!1,ft,null,null),yt=Dt.exports,xt={name:"Asistencia",computed:h()({},Object(C.b)(["user","institution"]),{reportDetails:function(){var t=new Date;return{month:t.getMonth(),year:t.getFullYear(),monthFinish:st.a.getMonthDays(t.getMonth(),t.getFullYear())}}}),data:function(){return{months:st.a.months,notValid:"",hoursCounter:0,monthInit:1}},methods:{saveReport:function(){var t=this,e="Asistencia "+this.type+" "+this.months[this.reportDetails.month]+"-"+this.reportDetails.year,s=new tt(e,this.type),i=this.months[this.reportDetails.month],a=0,n=new Date(this.reportDetails.year,this.reportDetails.month,this.monthInit,0,0,0,0),o=this.notValid.split(",");"IMER"===this.type?s.writeBackground(document.querySelector("#asisIMER")):"IPN"===this.type&&s.writeBackground(document.querySelector("#asisIPN")),s.writeHeadData(this.user),s.writeMonth(i),st.a.getAbleDays(n,this.monthInit,this.reportDetails.monthFinish,o).forEach(function(e){var i=e+"/"+(t.reportDetails.month+1)+"/"+t.reportDetails.year;a+=4;var n=parseInt(t.hoursCounter,10)+a;s.writeRow({date:i,initHour:t.user.initHour,finishHour:t.user.finishHour,daysHour:"4",currentHours:n.toString()})}),"IPN"===this.type&&s.writeEndIPN(a,parseInt(this.hoursCounter,10)+a,this.institution.boss),s.show()},updateMonthFinish:function(){var t=st.a.getMonthDays(this.reportDetails.month,this.reportDetails.year);this.reportDetails.monthFinish=t,this.$forceUpdate()},generateReport:function(t){this.type=t,this.$store.commit("setCaptchaShow",!0)}},components:{Popup:yt}},bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Popup",{attrs:{onFinish:t.saveReport}}),i("img",{staticClass:"hide",attrs:{id:"asisIMER",src:s("pYQA")}}),i("img",{staticClass:"hide",attrs:{id:"asisIPN",src:s("YJqX")}}),t._m(0,!1,!1),i("div",{staticClass:"container"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"column"},[i("div",{staticClass:"label"},[t._v("Inicio de mes")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.monthInit,expression:"monthInit"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.monthInit},on:{input:function(e){e.target.composing||(t.monthInit=e.target.value)}}})])]),i("div",{staticClass:"column"},[i("div",{staticClass:"label"},[t._v("Fin de mes")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.reportDetails.monthFinish,expression:"reportDetails.monthFinish"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.reportDetails.monthFinish},on:{input:function(e){e.target.composing||t.$set(t.reportDetails,"monthFinish",e.target.value)}}})])])]),i("div",{staticClass:"column"},[i("div",{staticClass:"column"},[i("div",{staticClass:"label"},[t._v("Horas acumuladas")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.hoursCounter,expression:"hoursCounter"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.hoursCounter},on:{input:function(e){e.target.composing||(t.hoursCounter=e.target.value)}}})])]),i("div",{staticClass:"column"},[i("div",{staticClass:"label"},[t._v("Días Festivos")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.notValid,expression:"notValid"}],staticClass:"input",attrs:{type:"text",placeholder:"20,24,31"},domProps:{value:t.notValid},on:{input:function(e){e.target.composing||(t.notValid=e.target.value)}}})])])]),i("div",{staticClass:"column"},[i("div",{staticClass:"column"},[i("div",{staticClass:"label"},[t._v("Mes")]),i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.reportDetails.month,expression:"reportDetails.month"}],on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.reportDetails,"month",e.target.multiple?s:s[0])},function(e){t.updateMonthFinish()}]}},t._l(t.months,function(e,s){return i("option",{domProps:{value:s}},[t._v(t._s(e))])}))])]),i("div",{staticClass:"column"},[i("div",{staticClass:"label"},[t._v("Año")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.reportDetails.year,expression:"reportDetails.year"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.reportDetails.year},on:{input:function(e){e.target.composing||t.$set(t.reportDetails,"year",e.target.value)}}})])])])]),i("div",{staticClass:"columns center"},[i("div",{staticClass:"column"},[i("button",{staticClass:"button is-primary",on:{click:function(e){t.generateReport("IMER")}}},[t._v("IMER")])]),i("div",{staticClass:"column"},[i("button",{staticClass:"button is-danger",on:{click:function(e){t.generateReport("IPN")}}},[t._v("IPN")])])])])],1)},_t=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hero is-primary"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("Reporte Asistencias")]),s("h2",{staticClass:"subtitle"},[t._v("Llena la siguiente información para generar el reporte.")])])])])}],wt={render:bt,staticRenderFns:_t},It=wt,Ot=s("VU/8"),Nt=u,Et=Ot(xt,It,!1,Nt,null,null),Pt=Et.exports,Rt={name:"ActivityLine",props:["activity","onDelete"],data:function(){return{}},methods:{del:function(){this.onDelete(this.activity.index)}}},St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"vineta is-warning"}),s("span",[t._v(t._s(t.activity.name))]),s("span",{staticClass:"icon",on:{click:t.del}},[s("i",{staticClass:"fa fa-home"},[t._v("x")])])])},At=[],Mt={render:St,staticRenderFns:At},Ft=Mt,Yt=s("VU/8"),Ht=l,Ut=Yt(Rt,Ft,!1,Ht,null,null),$t=Ut.exports,kt={name:"Actividades",computed:h()({},Object(C.b)(["user","institution","captcha"]),{computedDeliverDate:{get:function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth().toString()+1)+"-"+p(t.getDate());return this.deliverDate=e,e},set:function(t){this.deliverDate=t}},computedReportNumber:{get:function(){var t=parseInt(this.user.dateStart.split("/")[1],10),e=new Date,s=e.getMonth()+1;s<t&&(s+=12);var i=s-t;return i+=1,this.reportNumber=i,i},set:function(t){this.reportNumber=t}},computedStartDate:{set:function(t){this.startDate=t},get:function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth().toString()+1)+"-01";return this.startDate=e,e}},computedEndDate:{get:function(){var t=new Date,e=st.a.getMonthDays(t.getMonth(),t.getFullYear()),s=t.getFullYear()+"-"+(t.getMonth().toString()+1)+"-"+e;return this.endDate=s,s},set:function(t){this.endDate=t}}}),data:function(){return{activity:{name:"",index:0},type:"",activities:{},reportNumber:"",startDate:"",endDate:"",deliverDate:""}},methods:{addToList:function(){var t=this.activity.index+1;""!==this.activity&&(this.activities[this.activity.index]=this.activity,this.activity={name:"",index:t})},del:function(t){delete this.activities[t],this.$forceUpdate()},saveReport:function(){var t="Reporte Activdades "+this.type;this.report=new tt(t,this.type);var e=parseInt(this.startDate.split("-")[1],10)-1,s=this.startDate.split("-")[0],i=this.startDate.split("-")[1],a=this.startDate.split("-")[2],n=this.endDate.split("-")[2],o=st.a.months[e];"IMER"===this.type?this.report.writeBackground(document.querySelector("#ACT_IMER")):"IPN"===this.type&&this.report.writeBackground(document.querySelector("#ACT_IPN")),this.report.writeActivityHead({user:this.user,institution:this.institution,report:{number:this.reportNumber,deliverDate:{day:this.deliverDate.split("-")[2],month:st.a.months[parseInt(this.deliverDate.split("-")[1],10)-1],year:this.deliverDate.split("-")[0]},monthName:o,year:s,month:i,startDate:a,endDate:n}}),this.report.writeActivitiesList(this.activities),this.report.show()},generteReport:function(t){this.type=t,this.$store.commit("setCaptchaShow",!0)}},components:{ActivityLine:$t,Popup:yt}},zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Popup",{attrs:{onFinish:t.saveReport}}),i("img",{staticClass:"hide",attrs:{id:"ACT_IPN",src:s("SZ2H")}}),i("img",{staticClass:"hide",attrs:{id:"ACT_IMER",src:s("+OsI")}}),t._m(0,!1,!1),i("div",{staticClass:"section"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"label"},[t._v("No Reporte")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.computedReportNumber,expression:"computedReportNumber"}],staticClass:"input",attrs:{type:"number",min:"1"},domProps:{value:t.computedReportNumber},on:{input:function(e){e.target.composing||(t.computedReportNumber=e.target.value)}}})]),i("div",{staticClass:"column"},[i("div",{staticClass:"label"},[t._v("Inicio")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.computedStartDate,expression:"computedStartDate"}],staticClass:"input",attrs:{type:"date"},domProps:{value:t.computedStartDate},on:{input:function(e){e.target.composing||(t.computedStartDate=e.target.value)}}})]),i("div",{staticClass:"column"},[i("div",{staticClass:"label"},[t._v("Fin")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.computedEndDate,expression:"computedEndDate"}],staticClass:"input",attrs:{type:"date"},domProps:{value:t.computedEndDate},on:{input:function(e){e.target.composing||(t.computedEndDate=e.target.value)}}})]),i("div",{staticClass:"column"},[i("div",{staticClass:"label"},[t._v("Fecha de entrega")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.computedDeliverDate,expression:"computedDeliverDate"}],staticClass:"input",attrs:{type:"date"},domProps:{value:t.computedDeliverDate},on:{input:function(e){e.target.composing||(t.computedDeliverDate=e.target.value)}}})])]),i("div",{staticClass:"label"},[t._v("Actividad")]),i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activity.name,expression:"activity.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.activity.name},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.addToList(e)},input:function(e){e.target.composing||t.$set(t.activity,"name",e.target.value)}}})]),i("div",{staticClass:"column is-2"},[i("button",{staticClass:"button add is-warning",on:{click:function(e){t.addToList()}}},[t._v("Agregar")])])]),i("div",{staticClass:"label"},[t._v("Lista de actividades")]),i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("ul",t._l(t.activities,function(e){return i("li",[i("ActivityLine",{attrs:{activity:e,onDelete:t.del}})],1)}))])]),i("div",{staticClass:"columns center"},[i("div",{staticClass:"column"},[i("button",{staticClass:"button is-primary",on:{click:function(e){t.generteReport("IMER")}}},[t._v("IMER")])]),i("div",{staticClass:"column"},[i("button",{staticClass:"button is-danger",on:{click:function(e){t.generteReport("IPN")}}},[t._v("IPN")])])])])],1)},Xt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hero is-warning"},[s("div",{staticClass:"hero-body"},[s("h1",{staticClass:"title"},[t._v("Lista de actividades")]),s("h2",{staticClass:"subtitle"},[t._v("Ingresa las actividades realizadas para tu reporte")])])])}],Lt={render:zt,staticRenderFns:Xt},Vt=Lt,jt=s("VU/8"),Bt=d,Tt=jt(kt,Vt,!1,Bt,null,null),qt=Tt.exports;m.a.use(Y.a);var Zt=new Y.a({routes:[{path:"/",name:"Home",component:j},{path:"/asistencia",name:"Asistencia",component:Pt},{path:"/actividades",name:"Actividades",component:qt}]}),Jt=s("v/L+"),Gt=s.n(Jt);m.a.use(C.a);var Qt=new Gt.a({key:"report-vuex",storage:window.localStorage,reducer:function(t){return{user:t.user,institution:t.institution}}}),Wt=new C.a.Store({state:{institution:{name:"Instituto Mexicano de la Radio",program:"Proyecto servicio social para el IMER 2010",boss:{name:"Juan Carlos Casique Gonzalez",position:"Jefe de departamento de recursos humanos"},internBoss:{name:"ING Francisco Domínguez Ávila",position:""}},captcha:{show:!1,hashed:!1},user:{name:"Sánchez Hernández Everardo",register:"",school:"Instituto Politécnico Nacional",carreer:"ICE",area:"Dirección de Ingeniería-Mantenimiento e Instalaciones de audio.",initHour:"12:00",finishHour:"16:00",dateStart:"03/11/2017",dateEnd:"03/05/2018",schoolId:"2098350634",telephone:"94857609",email:"everardo.ipn@gmail.com"}},mutations:{setUserData:function(t,e){this.state.user=e},setCaptchaShow:function(t,e){this.state.captcha.show=e},setCaptchaHashed:function(t,e){this.state.captcha.hashed=e}},plugins:[Qt.plugin]}),Kt=Wt;m.a.config.productionTip=!1,new m.a({el:"#app",router:Zt,template:"<App/>",components:{App:F},store:Kt})},Q5sZ:function(t,e){},SZ2H:function(t,e,s){t.exports=s.p+"ReportGenerator/static/img/ACTIVIDADESIPN_min.891455e.jpg"},UgGR:function(t,e){},YJqX:function(t,e,s){t.exports=s.p+"ReportGenerator/static/img/ASISTENCIAIPN_min.9285449.jpg"},Z9TW:function(t,e){},o6b0:function(t,e){},pYQA:function(t,e,s){t.exports=s.p+"ReportGenerator/static/img/ASISTENCIAIMER_min.5256d34.jpg"},t3ux:function(t,e){},zUEt:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.844b2e86ee962ddb6eeb.js.map
